(this["webpackJsonpattendance-tracking-frontend"]=this["webpackJsonpattendance-tracking-frontend"]||[]).push([[0],{390:function(e,t,n){},393:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(0),c=n.n(r),s=n(16),o=n.n(s),i=(n(390),n(186)),u=n(357),d=(n(393),n(141)),j=n(32),f=n(31),b=n.n(f),l=n(62),O=n(185),p=n(143),h=n(499),x=n(195),m=n(510),w=n(321),v=n(322),g=n(358),y=n.n(g),k=n(113),R=n.n(k),I=n(13);var N=Object(j.f)((function(){var e=Object(r.useState)({Username:"",Password:"",userRole:"",userId:-1}),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(j.e)(),o=Object(i.b)(),u=function(e){var t=e.target,r=t.name,s=t.value;c(Object(a.a)(Object(a.a)({},n),{},Object(O.a)({},r,s)))},d=function(){var e=Object(l.a)(b.a.mark((function e(){var t,a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.Username,a=n.Password,e.next=4,R.a.post("https://ku42k1lhrd.execute-api.us-west-2.amazonaws.com/dev/login",{userName:t,password:a});case 4:r=e.sent,console.log(r),200===r.status?"student"===(c={firstName:r.data[0].firstName,lastName:r.data[0].lastName,userRole:r.data[0].userRole,userId:r.data[0].userId}).userRole?s.push({pathname:"/student",state:c}):"teacher"===c.userRole&&s.push("/teacher"):(console.log(r),o.show(r.body));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(h.a,{align:"center",children:Object(I.jsxs)(x.a,{elevation:10,style:{padding:20,height:"70vh",width:280,margin:"20px auto"},children:[Object(I.jsx)(m.a,{style:{backgroundColor:"#029b19"},children:Object(I.jsx)(y.a,{})}),Object(I.jsx)("h2",{children:"Sign in to your account"}),Object(I.jsx)(w.a,{value:n.Username,name:"Username",label:"Username",placeholder:"Enter your username",fullWidth:!0,required:!0,onChange:u}),Object(I.jsx)(w.a,{value:n.Password,name:"Password",label:"Password",placeholder:"Enter your password",fullWidth:!0,required:!0,type:"password",onChange:u}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",style:{margin:"8px 0"},onClick:function(){f()},children:"Login"})]})})})),C=n(242),P=n.n(C),A=n(361),S=n.n(A),T=n(371),E=n.n(T),L=n(362),U=n.n(L),D=n(369),F=n.n(D),q=n(248),z=n.n(q),J=n(247),W=n.n(J),B=n(363),M=n.n(B),V=n(364),G=n.n(V),H=n(366),K=n.n(H),Q=n(367),X=n.n(Q),Y=n(368),Z=n.n(Y),$=n(372),_=n.n($),ee=n(365),te=n.n(ee),ne=n(370),ae=n.n(ne),re=n(373),ce=n.n(re),se={Add:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(S.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(U.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(W.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(M.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(z.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(G.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(te.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(K.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(X.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(Z.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(z.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(F.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(W.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(ae.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(E.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(_.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(I.jsx)(ce.a,Object(a.a)(Object(a.a)({},e),{},{ref:t}))}))},oe=[{title:"Class ID",field:"classId",editable:!1,hidden:!0},{title:"Section ID",field:"sectionId",editable:!1,hidden:!0},{title:"Class Name",field:"className",editable:!1,hidden:!1},{title:"Section Name",field:"sectionName",editable:!1,hidden:!1},{title:"Attendance Percentage",field:"attendancePercentage",editable:!1,hidden:!1},{title:"Attending Today",field:"hasAttendedToday",editable:function(e,t){return t&&!1===t.hasAttendedToday},editComponent:function(e){return console.log(e),Object(I.jsx)("input",{type:"checkbox",checked:e.value,onChange:function(t){return e.onChange(t.target.checked)}})},render:function(e){return Object(I.jsx)("input",{type:"checkbox",checked:e.hasAttendedToday})}}];var ie=Object(j.f)((function(){var e=Object(j.e)();console.log(e.location.state.firstName+" "+e.location.state.lastName);var t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(p.a)(o,2),u=i[0],d=i[1],f=c.a.createRef(),O=function(){var t=Object(l.a)(b.a.mark((function t(){var n,a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.location.state.userId,a="https://ku42k1lhrd.execute-api.us-west-2.amazonaws.com/dev/student/?studentId=".concat(n),t.next=5,R()(a);case 5:r=t.sent,s(r.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(l.a)(b.a.mark((function t(n){var a,r,c,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.classId,r=n.sectionId,c=n.hasAttendedToday,s=e.location.state.userId,console.log("updatedRow:",n),{},t.next=7,R.a.post("https://ku42k1lhrd.execute-api.us-west-2.amazonaws.com/dev/addAttendance",{studentId:s,classId:a,sectionId:r,hasAttendedToday:c});case 7:o=t.sent,console.log("response",o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,h(t);case 3:return e.next=5,O();case 5:d(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var t=Object(l.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"Student"}),Object(I.jsx)(w.a,{inputProps:{readOnly:!0,disabled:!0},value:e.location.state.firstName+" "+e.location.state.lastName,name:"FullName",label:"Full Name",placeholder:"user full name",required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)(P.a,{title:"Attendance List",data:a,tableRef:f,icons:se,columns:oe,isLoading:u,editable:{onRowUpdate:function(e){return x(e)}},options:{actionsColumnIndex:-1,addRowPosition:"first",sorting:!0}}),Object(I.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",style:{margin:"8px 0"},onClick:function(){g()},children:"Logout"})]})}));var ue=Object(j.f)((function(){var e=Object(j.e)(),t=function(){var t=Object(l.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:"Teacher"}),Object(I.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",style:{margin:"8px 0"},onClick:function(){n()},children:"Logout"})]})}));var de=function(){return Object(I.jsx)(d.a,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{align:"center",children:"Attendance Tracking"}),Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(j.a,{exact:!0,path:"/",component:N}),Object(I.jsx)(j.a,{exact:!0,path:"/student",component:ie}),Object(I.jsx)(j.a,{exact:!0,path:"/teacher",component:ue})]})]})})};o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(i.a,Object(a.a)(Object(a.a)({template:u.a},{position:"bottom center",timeout:5e3,offset:"30px",transition:"scale"}),{},{children:Object(I.jsx)(de,{})}))}),document.getElementById("root"))}},[[477,1,2]]]);
//# sourceMappingURL=main.641fdcf2.chunk.js.map